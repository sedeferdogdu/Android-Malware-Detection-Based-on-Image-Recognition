import os
import shutil

def move_and_delete_files(txt_file_path, source_path, destination_path):

    with open(txt_file_path, 'r') as file:
        file_names = [line.strip() for line in file.readlines()]


    if not os.path.exists(destination_path):
        os.makedirs(destination_path)

    # Move file and remove
    for file_name in file_names:
  
        matching_files = [f for f in os.listdir(source_path) if file_name in f]

        for matching_file in matching_files:
            source_file_path = os.path.join(source_path, matching_file)
            destination_file_path = os.path.join(destination_path, matching_file)

            if os.path.exists(source_file_path):
                shutil.move(source_file_path, destination_file_path)
                print(f"{matching_file} taşındı.")
            else:
                print(f"{matching_file} bulunamadı.")


txt_file_path = 'dosya_sayilari_riskware.txt'  
source_path = 'dataset/Riskware'  
destination_path = 'dataset/SMS_out'  

move_and_delete_files(txt_file_path, source_path, destination_path)
